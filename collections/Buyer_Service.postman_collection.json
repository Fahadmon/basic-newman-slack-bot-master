{
	"info": {
		"_postman_id": "55d98e2e-fcc7-4dbf-aff6-b5604956ddf0",
		"name": "Buyer_Service",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Filters And Seraches",
			"item": [
				{
					"name": "Filter_By_Category_Marble",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c179dc34-96fd-4492-a674-780424799967",
								"exec": [
									"pm.test(\"Response status is ok\",function(){",
									"    pm.response.to.have.status(200);",
									"})",
									"pm.test(\"response should be okay to process\", function () { ",
									"    pm.response.to.not.be.error; ",
									"    pm.response.to.not.have.jsonBody(\"error\"); ",
									"    pm.response.to.have.jsonBody();",
									"    ",
									"})",
									"pm.test(\"Body Contains IN_STOCK\", function () {",
									"pm.environment.unset(\"variable_key\");",
									"    pm.expect(pm.response.text()).to.include(\"IN_STOCK\");",
									"});",
									"",
									"  ",
									"   var jsonData = JSON.parse(responseBody); ",
									"   console.log(jsonData)",
									"  ",
									"  tests[\"IN_STOCK Filter is Present\"]= jsonData[0].items[0].code   === \"IN_STOCK\";",
									"  tests[\"OUT_OF_STOCK Filter is Present\"]= jsonData[0].items[1].code   === \"OUT_OF_STOCK\";",
									"  tests[\"COMING_SOON Filter is Present\"]= jsonData[0].items[2].code   === \"COMING_SOON\";",
									"  tests[\"Custom-Made Filter is Present\"]= jsonData[0].items[3].code   === \"isMadeToOrder.code\";",
									"  tests[\"Rating Filter is Present\"]= jsonData[1].items[0].code   === \"rating\";",
									"  tests[\"Price Filter is present\"]=jsonData[2].type   === \"price\";",
									"  tests[\"On Price Promotion Offer Filter is Present\"]= jsonData[3].items[0].label   === \"buyer.product.onpromotion\";",
									"  tests[\"Eligible For Shipping Promotion Filter is Present\"]= jsonData[3].items[1].label   === \"buyer.product.onshippingpromotion\";",
									"  tests[\"Eligible For Free Shipping Filter is Present\"]= jsonData[3].items[2].label   === \"buyer.product.onfreeshipping\";",
									"  tests[\"Free Sample Available Filter is Present\"]= jsonData[3].items[3].label   === \"buyer.product.preview_product\";",
									"  tests[\"Seller Filter is Present\"]= jsonData[16].name   === \"buyer.filter.sellername\";",
									"  ",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"lang\":\"en\",\"userType\":\"buyer\",\"orgIdfier\":\"scg\",\"f\":[{\"field\":\"primaryCategory.o_id\",\"type\":\"category\",\"codes\":[\"129\"]}],\"page\":1}"
						},
						"url": {
							"raw": "https://qa.nocnoc-internal.com/buyer-service/filters",
							"protocol": "https",
							"host": [
								"qa",
								"nocnoc-internal",
								"com"
							],
							"path": [
								"buyer-service",
								"filters"
							]
						}
					},
					"response": []
				},
				{
					"name": "Search_By_Category_Marble",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "76435830-07ce-479b-9837-ad55ebae9bb8",
								"exec": [
									"pm.test(\"Response status is ok\",function(){",
									"    pm.response.to.have.status(200);",
									"})",
									"pm.test(\"response should be okay to process\", function () { ",
									"    pm.response.to.not.be.error; ",
									"    pm.response.to.not.have.jsonBody(\"error\"); ",
									"    pm.response.to.have.jsonBody();",
									"    ",
									"})",
									"",
									"   var jsonData = JSON.parse(responseBody); ",
									"   console.log(jsonData)",
									"   ",
									"   tests[\"Page  should be 1\"]= jsonData.page   === 1;",
									"   tests[\"First page should display 32 products\"]= jsonData.limit   === 32;",
									"   tests[\"Every Product should have brand\"]= pm.expect(jsonData.items[0]).to.have.property('brand');",
									"   tests[\"Every Product should have price\"]= pm.expect(jsonData.items[0]).to.have.property('price');",
									"   tests[\"Every Product should have rating\"]= pm.expect(jsonData.items[0]).to.have.property('rating');",
									"   tests[\"Every Product should have skuName\"]= pm.expect(jsonData.items[0]).to.have.property('skuName');",
									"   tests[\"Every Product should have skuNumber\"]= pm.expect(jsonData.items[0]).to.have.property('skuNumber');",
									"   tests[\"Every Product should have supplierId\"]= pm.expect(jsonData.items[0]).to.have.property('supplierId');",
									"   tests[\"Category Should be marble for all searched product\"]= jsonData.items[0].categoryId=129;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"lang\":\"en\",\"userType\":\"buyer\",\"orgIdfier\":\"scg\",\"f\":[{\"field\":\"primaryCategory.o_id\",\"type\":\"category\",\"codes\":[\"129\"]}],\"limit\":32,\"page\":1,\"transformData\":true}"
						},
						"url": {
							"raw": "{{environment}}/buyer-service/search",
							"host": [
								"{{environment}}"
							],
							"path": [
								"buyer-service",
								"search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Search_By_Price-Low To High",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "a2b8f16d-3f9b-4b45-9462-775130744f88",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "b9109c73-9eed-49d1-8cdd-331bd0ca8208",
								"exec": [
									"pm.test(\"Response status is ok\",function(){",
									"    pm.response.to.have.status(200);",
									"})",
									"pm.test(\"response should be okay to process\", function () { ",
									"    pm.response.to.not.be.error; ",
									"    pm.response.to.not.have.jsonBody(\"error\"); ",
									"    pm.response.to.have.jsonBody();",
									"    ",
									"})",
									"",
									"   var jsonData = JSON.parse(responseBody); ",
									"   console.log(jsonData);",
									"   var price1= jsonData.items[0].price.originalPrice;",
									"   var price2= jsonData.items[10].price.originalPrice;",
									"   var price3= jsonData.items[20].price.originalPrice;",
									"   console.log(price1);",
									"   console.log(price2);",
									"   console.log(price3);",
									"   pm.test(\"price shorted Low To High\", function () { ",
									"       if(price3>=price2 && price2>=price1)",
									"        {",
									"            ",
									"            pm.response.to.be.success;",
									"        }",
									"        else",
									"        {",
									"            pm.response.to.not.be.success;",
									"        }",
									"    ",
									"})",
									"   "
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\"lang\":\"en\",\"userType\":\"buyer\",\"orgIdfier\":\"scg\",\"f\":[{\"field\":\"primaryCategory.o_id\",\"type\":\"category\",\"codes\":[\"129\"]},{\"field\":\"stockStatus\",\"operator\":\"eq\",\"codes\":[\"IN_STOCK\",\"COMING_SOON\",\"isMadeToOrder.code\"]}],\"sort\":\"plh\",\"limit\":32,\"page\":1,\"transformData\":true}"
						},
						"url": {
							"raw": "{{environment}}/buyer-service/search",
							"host": [
								"{{environment}}"
							],
							"path": [
								"buyer-service",
								"search"
							]
						}
					},
					"response": []
				},
				{
					"name": "Search_By_Price-High To Low",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{environment}}/buyer-service/search",
							"host": [
								"{{environment}}"
							],
							"path": [
								"buyer-service",
								"search"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Compare Product",
			"item": [
				{
					"name": "Add_1_Products_To_Compare",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "953658ee-46ec-4204-bda5-b81a45ac9a48",
								"exec": [
									"pm.test(\"Response status is ok\",function(){",
									"    pm.response.to.have.status(200);",
									"})",
									"pm.test(\"response should be okay to process\", function () { ",
									"    pm.response.to.not.be.error; ",
									"    pm.response.to.not.have.jsonBody(\"error\"); ",
									"    pm.response.to.have.jsonBody();",
									"    ",
									"})",
									"",
									"   var jsonData = JSON.parse(responseBody); ",
									"   console.log(jsonData);",
									"   var skuNumber1=postman.getEnvironmentVariable(\"skuNumber1\")",
									"   tests[\"Added Product for comparison contains skuNumber\"+skuNumber1]= jsonData[skuNumber1].skuNumber==skuNumber1"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{environment}}/buyer-service/products-basic-info?lang=en&userType=buyer&orgIdfier=scg&category=Marble-Tile&skuNumber={{skuNumber1}}",
							"host": [
								"{{environment}}"
							],
							"path": [
								"buyer-service",
								"products-basic-info"
							],
							"query": [
								{
									"key": "lang",
									"value": "en"
								},
								{
									"key": "userType",
									"value": "buyer"
								},
								{
									"key": "orgIdfier",
									"value": "scg"
								},
								{
									"key": "category",
									"value": "Marble-Tile"
								},
								{
									"key": "skuNumber",
									"value": "{{skuNumber1}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Add_2_Products_To_Comapre",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "538be773-5bf0-4410-b536-d97203f87d6e",
								"exec": [
									"pm.test(\"Response status is ok\",function(){",
									"    pm.response.to.have.status(200);",
									"})",
									"pm.test(\"response should be okay to process\", function () { ",
									"    pm.response.to.not.be.error; ",
									"    pm.response.to.not.have.jsonBody(\"error\"); ",
									"    pm.response.to.have.jsonBody();",
									"    ",
									"})",
									"  var jsonData = JSON.parse(responseBody); ",
									"  console.log(jsonData)",
									"  var skuNumber1=postman.getEnvironmentVariable(\"skuNumber1\")",
									"  var skuNumber2=postman.getEnvironmentVariable(\"skuNumber2\")",
									"  tests[\"Added Product for comparison contains skuNumber\"+skuNumber1]= jsonData[skuNumber1].skuNumber==skuNumber1",
									"  tests[\"Added Product for comparison contains skuNumber\"+skuNumber2]= jsonData[skuNumber2].skuNumber==skuNumber2"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							},
							{
								"key": "Authorization",
								"value": "",
								"type": "text",
								"disabled": true
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{environment}}/buyer-service/products-basic-info?lang=en&userType=buyer&orgIdfier=scg&category=Marble-Tile&skuNumber={{skuNumber1}},{{skuNumber2}}",
							"host": [
								"{{environment}}"
							],
							"path": [
								"buyer-service",
								"products-basic-info"
							],
							"query": [
								{
									"key": "lang",
									"value": "en"
								},
								{
									"key": "userType",
									"value": "buyer"
								},
								{
									"key": "orgIdfier",
									"value": "scg"
								},
								{
									"key": "category",
									"value": "Marble-Tile"
								},
								{
									"key": "skuNumber",
									"value": "{{skuNumber1}},{{skuNumber2}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Compare_Product",
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": ""
						}
					},
					"response": []
				},
				{
					"name": "Remove_1_Item_From_Compare",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "205cab51-a375-484a-821f-f47caa2b81f0",
								"exec": [
									"pm.test(\"Response status is ok\",function(){",
									"    pm.response.to.have.status(200);",
									"})",
									"pm.test(\"response should be okay to process\", function () { ",
									"    pm.response.to.not.be.error; ",
									"    pm.response.to.not.have.jsonBody(\"error\"); ",
									"    pm.response.to.have.jsonBody();",
									"    ",
									"})",
									"var jsonData = JSON.parse(responseBody); ",
									"   console.log(jsonData);",
									"   var skuNumber1=postman.getEnvironmentVariable(\"skuNumber1\")",
									"   var skuNumber2=postman.getEnvironmentVariable(\"skuNumber2\")",
									"   tests[\"Removed SkuNumber is\"+skuNumber2]= jsonData[skuNumber1].skuNumber!=skuNumber2"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "{{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{environment}}/buyer-service/products-basic-info?lang=en&userType=buyer&orgIdfier=scg&category=Marble-Tile&skuNumbers={{skuNumber1}},{{skuNumber2}}&skuNumber={{skuNumber1}}",
							"host": [
								"{{environment}}"
							],
							"path": [
								"buyer-service",
								"products-basic-info"
							],
							"query": [
								{
									"key": "lang",
									"value": "en"
								},
								{
									"key": "userType",
									"value": "buyer"
								},
								{
									"key": "orgIdfier",
									"value": "scg"
								},
								{
									"key": "category",
									"value": "Marble-Tile"
								},
								{
									"key": "skuNumbers",
									"value": "{{skuNumber1}},{{skuNumber2}}"
								},
								{
									"key": "skuNumber",
									"value": "{{skuNumber1}}"
								}
							]
						}
					},
					"response": []
				}
			]
		}
	]
}